<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Auth Guard -->
  <script>
    if (!localStorage.getItem("token")) {
      window.location.href = "login.html";
    }
  </script>

  <!-- Glow Background -->
  <div class="glow-circle"></div>

  <!-- Navbar -->
  <div class="navbar">
    <button onclick="window.location.href='index.html'">Home</button>
    <button onclick="window.location.href='dashboard.html'">Dashboard</button>
    <button onclick="window.location.href='create.html'">New Board</button>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- Darkmode Toggle -->
  <button id="darkModeToggle">ğŸŒ™</button>

  <!-- Dashboard Content -->
  <div class="dashboard-wrapper">
    <h1 id="dashboardTitle">Hi ğŸ‘‹</h1>
    <p id="dashboardMessage">Here are your saved boards:</p>

    <!-- Boards Grid -->
    <div id="boardsContainer" class="boards-grid"></div>

    <!-- Collage Section -->
    <div id="collageWrapper" class="board-wrapper hidden">
      <h2 id="collageTitle"></h2>
      <div id="collage" class="collage"></div>
    </div>
  </div>

  <script src="dashboard.js"></script>

  <script>
    // Darkmode toggle
    const toggle = document.getElementById("darkModeToggle");
    const savedMode = localStorage.getItem("darkmode");
    if (savedMode === "on") {
      document.body.classList.add("darkmode");
      toggle.textContent = "â˜€ï¸";
    }
    toggle.addEventListener("click", () => {
      const isDark = document.body.classList.toggle("darkmode");
      localStorage.setItem("darkmode", isDark ? "on" : "off");
      toggle.textContent = isDark ? "â˜€ï¸" : "ğŸŒ™";
    });

    function logout() {
      localStorage.removeItem("token");
      localStorage.removeItem("user");
      window.location.href = "login.html";
    }
  </script>

</body>
</html>